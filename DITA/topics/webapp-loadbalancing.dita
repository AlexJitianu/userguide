<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_hdq_ndb_n5">
  <title>How to Setup a Loadbalanced oXygen XML WebApp Server</title>
  <body>
    <section>
      <p>In order to scale a deployment to larger number of users and to increase the availability,
        oXygen XML WebApp can be deployed on a set of load-balanced servers. This topic describes
        the required setup for such a scenario.</p>
    </section>
    <section id="section_ltq_rdb_n5">
      <title>Configure session stickyness</title>
      <p>Every oXygen XML WebApp server keeps the state of the edited documents in memory for
        performance reasons. This implies that every user should connect to the same backend server
        for the duration of an editing session. In order to achieve this result in a load-balanced
        setting, one should enable <b>session stickyness</b>.</p>
    </section>
    <section id="section_s1s_32b_n5">
      <title>Configure healthchecks</title>
    </section>
    <section id="section_c4x_j2b_n5">In order to detect unhealthy servers, oXygen XML WebApp offers
      a health check REST API. The endpoint has the following interface<dl>
        <dlentry>
          <dt>URL</dt>
          <dd><filepath>rest-public/status</filepath></dd>
        </dlentry>
        <dlentry>
          <dt>Response status code</dt>
          <dd>200 for a healthy server and 503 for an unhealthy server</dd>
        </dlentry>
        <dlentry>
          <dt>Response body</dt>
          <dd>For an unhealthy server, the response body contains a text description of the
            probem.</dd>
        </dlentry>
      </dl></section>
  </body>
</topic>
