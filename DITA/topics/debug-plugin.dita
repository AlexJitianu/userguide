<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="debug-plugin">
  <title>Debugging a Plugin Using the Eclipse Workbench</title>
  <body><draft-comment author="Mark">This seems to be a near duplicate of debug-sdk.dita. Reuse possibilities?</draft-comment>
    <p>To debug problems in the code of the plugin without having to re-bundle the Java classes of
      the plugin in a JAR library, follow these steps:<ol id="ol_ops_m3p_hj">
        <li>Download and unpack an <xref
            href="http://www.oxygenxml.com//InstData/Editor/All/oxygen.tar.gz" format="gz"
            scope="external">all platforms standalone version</xref> of Oxygen XML Author/Editor to
          a folder on your hard drive.<note>Name the folder
          <filepath>[OXYGEN_DIR]</filepath>.</note></li>
        <li> Set up the Oxygen SDK following <xref
            href="http://www.oxygenxml.com/oxygen_sdk.html#Developer_Plugins" format="html"
            scope="external">this set of instructions</xref>.</li>
        <li>Create an Eclipse Java Project (let's call it <filepath>MyPluginProject</filepath>) from
          one of the sample plugins (the Workspace Access plugin for example). </li>
        <li>In the Project root folder, create a folder called <filepath>myPlugin</filepath> and add
          the <filepath>plugin.xml</filepath> from the sample plugin in there. Modify the added
          plugin.xml to add a library reference to the project's classes directory:
            <codeph>&lt;library name="../classes"/></codeph>.</li>
        <li>Copy the <filepath>plugin.dtd</filepath> from the
            <filepath>[OXYGEN_DIR]/plugins</filepath> folder in the root Project folder.</li>
        <li>In the Project's build path add external JAR references to all the JAR libraries in the
            <filepath>[OXYGEN_DIR]/lib</filepath> folder. Now your Project should compile
          successfully.</li>
        <li>Create a new Java Application configuration for debugging. The Main Class should be
            <codeph>ro.sync.exml.Oxygen</codeph>. The given VM Arguments should
          be:<codeblock>-Dcom.oxygenxml.app.descriptor=ro.sync.exml.EditorFrameDescriptor -Xmx1024m 
-XX:MaxPermSize=384m -Dcom.oxygenxml.editor.plugins.dir=D:\projects\MyPluginProject</codeblock></li>
        <li>Add a break point in one of the source Java classes.</li>
        <li>Debug the created configuration. When the code reaches your breakpoint, the debug
          perspective should take over.</li>
      </ol></p>
  </body>
</topic>
