<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="installation-dita-webhelp-feedback">
  <title><?oxy_comment_start author="steven_higgs" timestamp="20150728T162557+0300" comment="Edited for EXM-31080"?>Deployment
    of the WebHelp With Feedback System<?oxy_comment_end?></title>
  <prolog>
    <metadata>
      <keywords>
        <indexterm>deploying WebHelp with Feedback</indexterm>
        <indexterm>installing WebHelp with Feedback</indexterm>
      </keywords>
    </metadata>
  </prolog>
  <body id="installation">
    <section id="system-requirements">
      <title>System Requirements</title>
      <p>The feedback-enabled WebHelp system of <ph keyref="product"/> requires a standard server
        deployment that is often referred to as a <term>LAMP</term> stack. You can request this from
        your server admin and it needs the following system components:<ul>
          <li>
            <p>Apache Web Server (running)</p>
          </li>
          <li>
            <p>MySQL server (running)</p>
          </li>
          <li>
            <p>PHP Version 5.1.6 or later</p>
          </li>
          <li><p>PHP MySQL Support</p><ph keyref="webhelp"/> system supports most of the recent
            versions of the following browsers: Chrome, Firefox, Internet Explorer, Safari,
            Opera.</li>
        </ul></p>
    </section>
    <section id="create-database-section"><title>Create WebHelp with Feedback Database</title>The
      WebHelp system needs a MySQL database to store user details and the actual feedback, and a
      user added to it with all privileges. After this is created, you should have the following
        information:<ul id="ul_f1m_3hk_vs">
        <li>Database name</li>
        <li>Username</li>
        <li>Password</li>
      </ul><p>Exactly how you create the MySQL database and user depends on your web host and your
        particular needs. For example, the following procedure uses <term>phpMyAdmin</term> to
        create a database for the feedback system and a MySQL user with privileges for that
        database. The feedback system uses these credentials to connect to the database.</p><p>Using
          <term>phpMyAdmin</term> to create a database: <ol id="ol_als_nkk_vs">
          <li>Type <term>localhost</term> in your browser.</li>
          <li>In the left area, select: <term>phpMyAdmin</term>.</li>
          <li>Click <i>Databases</i> (in the right frame) and then create a <i>database</i>. You can
            give it any name you want (for example <i>comments</i>).</li>
          <li>Create a user with connection privileges for this database. </li>
          <li>Change the <i>user_name</i> and the <i>user_password</i> values.</li>
          <li>Under <i>localhost</i> in the right frame click <i>Privileges</i> and then at the
            bottom of the page click the <uicontrol>reload the privileges</uicontrol> link.</li>
        </ol></p></section>
    <section id="deploying-webhelp">
      <title>Deploying the WebHelp output</title>
      <p>If you have a web server configured with PHP and MySQL, you can deploy the WebHelp output
        directly. Follow these steps the first time you deploy the system:<ol id="ol_jfm_3mk_vs">
          <li>FTP your content to your server.</li>
          <li>Locate the directory of the HTML documents.
            <?oxy_comment_start author="steven_higgs" timestamp="20150728T130234+0300" comment="How to change?"?>Open
              <filepath>http://localhost/xampp/phpinfo.php</filepath> in your browser and see the
            value of the DOCUMENT_ROOT variable. If you installed XAMPP in
              <filepath>C:\xampp</filepath>, the value of DOCUMENT_ROOT is
              <filepath>C:/xampp/htdocs</filepath><?oxy_comment_end?>.</li>
          <li>Copy the transformation output folder in the <filepath>DOCUMENT_ROOT</filepath>.</li>
          <li>Rename it to something relevant, for example, <filepath>webhelp_1</filepath>.</li>
          <li><?oxy_comment_start author="steven_higgs" timestamp="20150728T130304+0300" comment="?"?>Open
              <filepath>http://localhost/webhelp_1/</filepath><?oxy_comment_end?>. You are
            redirected to the <filepath>[OXYGEN-WEBHELP]/install/</filepath> directory. Proceed with
            the installation by doing the following:<ol id="ol_lgm_lnk_vs">
              <li>Verify that the prerequisites are met.</li>
              <li>Press <uicontrol>Start Installation</uicontrol>.</li>
              <li>Configure the <uicontrol>Deployment Settings</uicontrol> section. Default values
                are provided, but you should adjust them as needed.
                <?oxy_comment_start author="steven_higgs" timestamp="20150728T125011+0300" comment="Is this the correct place for this?"?>You
                can change some of the options later. The installation creates a
                  <filepath>config.php</filepath> file in
                  <filepath>[OXYGEN_WEBHELP]/resources/php/config/config.php</filepath> where all
                your configuration options are stored.<?oxy_comment_end?></li>
              <li>Configure the <uicontrol>MySql Database Connection Settings</uicontrol> section.
                Use the information (database name, username, password) from the <xref
                  href="#./create-database-section" format="dita">Create WebHelp with Feedback
                  Database section</xref> to fill-in the appropriate text boxes.<note type="warning"
                  >Checking the <uicontrol>Create new database structure</uicontrol> option will
                  overwrite any existing data in the selected database, if it already exists.
                  Therefore, it is useful the first time you install the WebHelp with Feedback
                  system, but you do not want to select this option on subsequent
                  deployments.</note></li>
              <li>If you are using a domain (such as <term>OpenLDAP</term> or <term>Active
                  Directory</term>) to manage users in your organization, check the
                  <uicontrol>Enable LDAP Autehntication</uicontrol> option. This will allow you to
                configure the LDAP server, which will provide information and credentials for users
                who will access the WebHelp system. Also, this will allow you to choose which of the
                domain users will have administrator privileges.</li>
              <li>If the <uicontrol>Create new database structure</uicontrol> option is checked, the
                  <uicontrol>Create WebHelp Administrator Account</uicontrol> section becomes
                available. Here you can set the administrator account data. The administrator is
                able to moderate new posts and manage WebHelp users. <p>The same database can be
                  used to store comments for different WebHelp deployments. If a topic is available
                  in more than one WebHelp deployments and there are comments associated with it,
                  you can choose to display the comments in all deployments that share the database.
                  To do this, enable the <uicontrol>Display comments from other products</uicontrol>
                  option. In the <uicontrol>Display comments from</uicontrol> section, a list with
                  the deployments sharing the same database is displayed. Select the deployments
                  allowed to share common feedback.<note>You can restrict the displayed comments of
                    a product depending on its version. If you have two products that use the same
                    database and you restrict one of them to display comments starting from a
                    certain version, the comments of the other product are also displayed from the
                    specified version onwards. </note></p></li>
              <li>Press <uicontrol>Next Step</uicontrol>.</li>
              <li>Remove the installation folder from your web server.
                <?oxy_comment_start author="steven_higgs" timestamp="20150728T142922+0300" comment="Good place?"?>When
                you publish subsequent iterations of your WebHelp system, you will not upload the
                  <filepath>/install</filepath> folder in the output, as you only need it uploaded
                the first time you create the installation. On subsequent uploads, you will just
                upload the other output files.<?oxy_comment_end?></li>
              <li>Click the link pointing to the index of the
                documentation<?oxy_comment_start author="steven_higgs" timestamp="20150728T130011+0300" comment="?"?>,
                or visit: <filepath>http://localhost/webhelp_1/</filepath><?oxy_comment_end?>.</li>
            </ol></li>
        </ol></p>
    </section>
    <section><title>Testing Your WebHelp with Feedback System</title>To test your system, create a
      user and post a comment. Check to see if the notification emails are delivered to your
        inbox.<note>To read debug messages generated by the system:<ol id="ol_hyx_lpk_vs">
          <li>Enable <term>JScript</term> logging by doing one of the following:<ul
              id="ul_iyx_lpk_vs">
              <li>Open the <filepath>log.js</filepath> file, locate the <codeph>var log= new
                  Log(Level.NONE);</codeph> line, and change the logging level to:
                  <codeph>Level.INFO</codeph>, <codeph>Level.DEBUG</codeph>,
                  <codeph>Level.WARN</codeph>, or <codeph>Level.ERROR</codeph>.</li>
              <li>Append <codeph>?log=true</codeph> to the WebHelp URL.</li>
            </ul></li>
          <li>Inspect the PHP and Apache server log files.</li>
        </ol></note></section>
    <section>
      <title>Documentation Product ID and Version</title>
      <p>When you run a WebHelp with Feedback transformation scenario, by default you are prompted
        for a documentation product ID and version number. This is needed when multiple WebHelp
        systems are deployed on the same server. Think of your WebHelp output as a
          <term>product</term>. If you have 3 different WebHelp outputs, you have 3 different
          <term>products</term> (each with their own unique documentation product ID). This
        identifier is included in a configuration file so that comments are tied to a particular
        output (product ID and version number).<note>The WebHelp with Feedback installation includes
          a configuration option <uicontrol>Display comments from other products</uicontrol> that
          allows you to choose to have comments be visible in other specified
          <term>products</term>.</note></p>
      <p/>
    </section>
    <section>
      <p>To deploy the WebHelp output, follow these steps:<ol id="ol_qpg_kpk_vs">
          <li>Locate the directory of the HTML documents. Open
              <filepath>http://localhost/xampp/phpinfo.php</filepath> in your browser and see the
            value of the DOCUMENT_ROOT variable. If you installed XAMPP in
              <filepath>C:\xampp</filepath>, the value of DOCUMENT_ROOT is
              <filepath>C:/xampp/htdocs</filepath>.</li>
          <li>Copy the transformation output folder in the <filepath>DOCUMENT_ROOT</filepath>.</li>
          <li>Rename it to a relevant name, for example, <filepath>webhelp_1</filepath>.</li>
          <li>Open <filepath>http://localhost/webhelp_1/</filepath>. You are redirected to
              <filepath>http://localhost/webhelp_1/oxygen-webhelp/install/</filepath>.<ul
              id="ul_rpg_kpk_vs">
              <li>Verify that the prerequisites are met.</li>
              <li>Press <uicontrol>Start Installation</uicontrol>.</li>
              <li>Configure the <uicontrol>Deployment Settings</uicontrol> section. Default values
                are provided, but you should adjust them as needed.</li>
              <li>Configure the <uicontrol>MySql Database Connection Settings</uicontrol> section.
                Use the details from the Create the WebHelp Feedback database section to fill-in the
                appropriate text boxes.<note type="warning">Checking the <uicontrol>Create new
                    database structure</uicontrol> option will overwrite any existing data in the
                  selected database, if it already exists. </note></li>
              <li>If you are using a domain (such as <term>OpenLDAP</term> or <term>Active
                  Directory</term>) to manage users in your organization, check the
                  <uicontrol>Enable LDAP Autehntication</uicontrol> option. This will allow you to
                configure the LDAP server, which will provide information and credentials for users
                who will access the WebHelp system. Also, this will allow you to choose which of the
                domain users will have administrator privileges. </li>
              <li>If the <uicontrol>Create new database structure</uicontrol> option is checked, the
                  <uicontrol>Create WebHelp Administrator Account</uicontrol> section becomes
                available. Here you can set the administrator account data. The administrator is
                able to moderate new posts and manage WebHelp users. <p>The same database can be
                  used to store comments for different WebHelp deployments. If a topic is available
                  in more than one WebHelp deployments and there are comments associated with it,
                  you can choose to display the comments in all deployments that share the database.
                  To do this, enable the <uicontrol>Display comments from other products</uicontrol>
                  option. In the <uicontrol>Display comments from</uicontrol> section a list with
                  the deployments sharing the same database is displayed. Select the deployments
                  allowed to share common feedback.<note>You can restrict the displayed comments of
                    a product depending on its version. If you have two products that use the same
                    database and you restrict one of them to display comments starting from a
                    certain version, the comments of the other product are also displayed from the
                    specified version onwards. </note></p></li>
              <li>Press <uicontrol>Next Step</uicontrol>.</li>
              <li>Remove the installation folder from your web server.</li>
              <li>Click the link pointing to the index of the documentation, or visit:
                  <filepath>http://localhost/webhelp_1/</filepath>.</li>
            </ul></li>
        </ol></p>
      <p/>
    </section>
    <section>XAMPP info<note>These instructions were written for XAMPP 1.7.7 with PHP 5.3.8 and for
          <term>phpMyAdmin</term> 3.4.5. Later versions of these packages may change the location or
        name of some options, however the following installation steps should remain valid and
        basically the same.</note><p>Otherwise, install XAMPP. XAMPP is a free and open source
        cross-platform web server solution stack package. It consists mainly of the Apache HTTP
        Server, MySQL database, and interpreters for scripts written in PHP.</p></section>
    <section>
      <title>Install XAMPP</title>
      <p>
        <ol id="ol_acr_13k_vs">
          <li>Go to <xref href="https://www.apachefriends.org/download.html" format="html"
              scope="external"/> and download XAMPP, for instance for a Windows system.</li>
          <li>Install it in <filepath>C:\xampp</filepath>.</li>
          <li>From the XAMPP control panel, start <uicontrol>MySQL</uicontrol>, and then
              <uicontrol>Apache</uicontrol>.</li>
          <li>Open <filepath>http://localhost/xampp/index.php</filepath> in your browser to check
            whether the HTTP server is working.</li>
        </ol>
      </p>
    </section>
    <p>In the <uicontrol>SQL</uicontrol> tab, paste the following text:</p>
    <codeblock outputclass="language-sql">  INSERT INTO `mysql`.`user` (`Host`,`User`,`Password`,`Select_priv`,`Insert_priv`,`Update_priv`,`Delete_priv`,`Create_priv`,
      `Drop_priv`,`Reload_priv`,`Shutdown_priv`,`Process_priv`,`File_priv`,`Grant_priv`,`References_priv`,`Index_priv`,`Alter_priv`, 
      `Show_db_priv`,`Super_priv`,`Create_tmp_table_priv`,`Lock_tables_priv`,`Execute_priv`,`Repl_slave_priv`,`Repl_client_priv`,         
      `Create_view_priv`, `Show_view_priv`,`Create_routine_priv`,`Alter_routine_priv`,`Create_user_priv`,`Event_priv`,`Trigger_priv`,
      `Create_tablespace_priv`,`ssl_type`,`max_questions`,`max_updates`,`max_connections`,`max_user_connections`,`plugin`, 
      `authentication_string`) VALUES ('localhost', 'user_name', PASSWORD('user_password'), 'Y','Y','Y','Y','Y','Y','Y', 'N','N','N',
      'N','Y','Y','Y','Y','N','Y','Y','Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'Y', 'N', 'Y', 'Y', 'Y','', '0', '0', '0', '0', '', '');  </codeblock>
    <p>Open <filepath>http://localhost/xampp/phpinfo.php</filepath> in your browser and see the
      value of the DOCUMENT_ROOT variable. If you installed XAMPP in <filepath>C:\xampp</filepath>,
      the value of DOCUMENT_ROOT is <filepath>C:/xampp/htdocs</filepath>.</p>
  </body>
</topic>
