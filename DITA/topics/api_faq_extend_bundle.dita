<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="api-faq-extend-bundle">
  <title><?oxy_comment_start author="steven_higgs" timestamp="20150507T120739+0300" comment="Who to ask?"?>Extending
    the Java Functionality of an Existing Framework (Document Type)<?oxy_comment_end?></title>
  <body>
    <section>
      <title>Question</title>
      <p>How can I change the way DocBook 4 <codeph>xref</codeph>'s display in author view based on
        what element is at the <codeph>linkend</codeph>?</p>
    </section>
    <section>
      <p>Please follow the steps below:<ol id="ol_6114a4af-a0ed-46f8-bb76-aaccadecc310">
          <li>Create a Maven Java project and add a dependency on the oXygen
            classes:<codeblock>&lt;dependency>
    &lt;groupId>com.oxygenxml&lt;/groupId>
    &lt;artifactId>oxygen-sdk&lt;/artifactId>
    &lt;version>${oxygen.version}&lt;/version>
&lt;/dependency></codeblock>where
            <codeph>${oxygen.version}</codeph> is the version of <ph keyref="product"/>.<p>Alternatively, if
              the project does not use Maven, all the transitive dependencies of the above Maven
              artifact need to be added to the classpath of the project.</p></li>
          <li>Also add to the project's class path the:
            "[OXYGEN_DIR]\frameworks\docbook\docbook.jar".</li>
          <li>Create a class that extends <xref
              href="http://www.oxygenxml.com/InstData/Editor/SDK/javadoc/ro/sync/ecss/extensions/docbook/DocBook4ExtensionsBundle.html"
              format="html" scope="external"
                ><apiname>ro.sync.ecss.extensions.docbook.DocBook4ExtensionsBundle</apiname></xref>
            and overwrites the method: <xref
              href="http://www.oxygenxml.com/InstData/Editor/SDK/javadoc/ro/sync/ecss/extensions/api/ExtensionsBundle.html#createLinkTextResolver()"
              format="html" scope="external"
                ><apiname>ro.sync.ecss.extensions.api.ExtensionsBundle#createLinkTextResolver()</apiname></xref></li>
          <li>For your custom resolver implementation you can start from the Java sources of the
              <xref
              href="http://www.oxygenxml.com/InstData/Editor/SDK/javadoc/ro/sync/ecss/extensions/docbook/link/DocbookLinkTextResolver.html"
              format="html" scope="external"
                ><apiname>ro.sync.ecss.extensions.docbook.link.DocbookLinkTextResolver</apiname></xref>
            (<?oxy_comment_start author="Mark" timestamp="20140813T160936-0400" comment="Not sure is this should be &quot;oxygen SDK&quot; or &quot;the Author part of the Oxygen SDK, but there are no subfolders in the SDK that I downloaded. "?>the
            Java code for the entire DocBook customization is present in a subfolder in the Author
            SDK<?oxy_comment_end?>).</li>
          <li>Pack your extension classes in a JAR file. Copy the JAR to:
            "[OXYGEN_DIR]\frameworks\docbook\custom.jar".</li>
        <li>Start <ph keyref="product"/>.</li>
          <li><ph conkeyref="reusable.menus/Open-the-preferences-page"/> and go to
              <uicontrol>Document Type Association</uicontrol>. Edit the DocBook 4 document type. In
            the <b>Classpath</b> list add the path to the new JAR. In the extensions list select
            your custom extension instead of the regular DocBook one.</li>
          <li>You can rename the document type and also the "docbook" framework folder to something
            else like "custom_docbook" and share it with others. <ph product="author editor">A
              document type can also be installed using our <xref
                href="packing-and-deploying-addons.dita#packing-and-deploying-addons">add-on
                support</xref>.</ph></li>
        </ol></p>
    </section>
  </body>
</topic>
