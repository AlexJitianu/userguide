<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="context-sensitive-help-system">
  <title>Context-Sensitive WebHelp System</title>
 <!--Proofed-->
  <body>
    <p>Context-sensitive help systems assist users by providing specific informational topics for
      certain components of a user interface, such as a button or window. This mechanism works based
      on mappings between a unique ID defined in the topic and a corresponding HTML page.</p>
    <p>When WebHelp output is generated by <ph keyref="product"/>, the transformation process
      produces an XML mapping file called <filepath>context-help-map.xml</filepath> and copies it in
      the output folder. This XML file maps an ID to a corresponding HTML page
      like:<codeblock outputclass="language-xml">&lt;map productID="oxy-webhelp" productVersion="1.1"&gt;
  &lt;appContext helpID="annotations-view" path="topics/annotations-view.html"/&gt;
  &lt;appContext helpID="button-editor" path="concepts/button-editor.html"/&gt;
    .  .  .
&lt;/map&gt;</codeblock></p>
    <p>where:<ul id="ul_ct2_qrn_kq">
        <li><codeph>helpID</codeph> - unique ID provided by a topic from two possible sources:<ul
            id="ul_hrr_1pn_kq">
            <li>the <codeph>resourceid</codeph> element set to it in the <codeph>prolog</codeph>
                section:<codeblock outputclass="language-xml">&lt;prolog>
    &lt;resourceid id="context-sensitive-help-system"/>
&lt;/prolog></codeblock><note>If
                you need different parts of the application (for instance, dialog boxes, views, or
                editing modes) to open the same contextual help topic, all of the context ID values
                should be included in the same DITA topic file. For example, if you need both a
                dialog box and a view to open the same WebHelp page, you can assign different
                resource ID in the same DTIA
                topic.<codeblock outputclass="language-xml">&lt;prolog>
  &lt;resourceid id="dialog1"/>
  &lt;resourceid id="view1"/>
&lt;/prolog></codeblock></note></li>
          </ul></li>
      </ul></p>
    <p>
      <ul id="ul_qwq_cqz_cr">
        <li>
          <ul id="ul_gxq_cqz_cr">
            <li>the <codeph>id</codeph> attribute set on the topic root element</li>
          </ul>
          <note type="important">You should ensure that these defined IDs are unique in the context
            of the entire DITA project. If the IDs are not unique, the transformation scenario will
            display warning messages in the transformation console output. In this case the help
            system will not work properly.</note>
        </li>
        <li><codeph>path</codeph> - path to a corresponding WebHelp page. This path is relative to
          the location of the <filepath>context-help-map.xml</filepath> mapping file.</li>
        <li><codeph>productID</codeph> - ID of the product for which you are writing documentation.
          Applicable only if you are using WebHelp with Feedback transformations.</li>
        <li><codeph>productVersion</codeph> - version of the product for which you are writing
          documentation. Applicable only if you are using WebHelp with Feedback
          transformations.</li>
      </ul>
    </p>
    <p>There are two ways of implementing context-sensitive help in your application:<ul
        id="ul_erx_glz_cr">
        <li>The XML mapping file can be loaded by a PHP script on the server side. The script
          receives the context ID value and will look it up in the XML file.</li>
        <li>
          <p>Invoke one of the WebHelp system files <filepath>index.html</filepath> or
              <filepath>index_frames.html</filepath> and pass them the <codeph>contextId</codeph>
            parameter with a specific value. The WebHelp system will automatically open the help
            page associated with the value of the <codeph>contextId</codeph> parameter.</p>
        </li>
      </ul></p>
    <example>
      <p>The following example will open a <term>frameless</term> version of the WebHelp system
        showing the page associated with the id
        <codeph>dialog1ID</codeph>:<codeblock outputclass="language-ini">index.html?contextId=dialog1ID</codeblock></p>
    </example>
    <example>
      <p>The following example will open a <term>frameset</term> version of the WebHelp system
        showing the page associated with the id
        <codeph>view1ID</codeph>:<codeblock outputclass="language-ini">index_frames.html?contextId=view1ID</codeblock></p>
    </example>
  </body>
</topic>
