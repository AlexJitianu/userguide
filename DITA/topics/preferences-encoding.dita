<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd">
<topic id="preferences-encoding">
  <title>Encoding Preferences</title>
  <prolog>
    <metadata>
      <keywords>
        <indexterm>Configure the
            Application<indexterm>encoding</indexterm><indexterm>UTF-8</indexterm><indexterm>BOM</indexterm><indexterm>byte
            order mark</indexterm></indexterm>
      </keywords>
    </metadata>
  </prolog>
  <body>
    <p>To set character encoding preferences, <ph
        conkeyref="reusable.menus/open-the-preferences-page"/> and go to <menucascade>
        <uicontrol>Encoding</uicontrol>
      </menucascade>. The following encoding preferences are available:</p>
    <ul>
      <li product="author developer editor svnClient"><uicontrol>Encoding for non XML
          files</uicontrol> -
        <?oxy_comment_start author="Mark" timestamp="20140818T110557-0400" comment="JSON has a default encoding (UTF-8) and a method for detecting alternate encodings. Presumably Oxygen recognizes this and does not use this setting when reading and writing JSON files?  Python (for which Oxygen has an editor, also has a default and a convention for specifying alternate encodings. It should be made clear in the text (and in the interface) whether these conventions are supported or ignored. "?>This
        setting specifies the default character encoding used to open non-XML documents.<?oxy_comment_end?>
        <ph product="author developer editor">More precisely, this is the encoding used for files
          opened in editors other than the XML editor. The file types opened by each editor are
          specified in <xref keyref="file-types-preferences"/>.</ph> For XML files, the default
        encoding is UTF-8, and other encodings must be declared explicitly in the XML declaration
        (for example <codeph>&lt;?xml version="1.0" encoding="UTF-16<b>"</b>?&gt;</codeph>). Most
        other text formats do not have a default character encoding, nor a standard method of
        indicating the character encoding.
        <?oxy_comment_start author="Mark" timestamp="20140818T110959-0400" comment="Does Oxygen attempt to do any kind of encoding detection, or does it just default to this setting?"?>This
        option sets which encoding will be used for reading and writing these
        files.<?oxy_comment_end?>
      </li>
      <li product="editor author developer"><uicontrol>UTF-8 BOM handling</uicontrol> - This setting
        specifies how to handle the <term>Byte Order Mark</term> (BOM) when <ph keyref="product"/>
        saves a UTF-8 XML document: <ul>
          <li><uicontrol>Don't Write</uicontrol> - do not save the BOM bytes. Loaded BOM bytes are
            ignored.</li>
          <li><uicontrol>Write</uicontrol> - save the BOM bytes.</li>
          <li><uicontrol>Keep</uicontrol> - do not alter the BOM declaration of the currently open
            file. This is the default option.</li>
        </ul><note>The UTF-16 BOM is always preserved. UTF-32 documents have a
            <term>big-endian</term> byte order.</note></li>
      <li product="author developer editor svnClient"><uicontrol>Encoding errors
          handling</uicontrol> - This setting specifies how to handle characters that cannot be
        represented in the
        <?oxy_comment_start author="Mark" timestamp="20140818T111314-0400" comment="Does this meant the encoding specified by the non XML document encoding setting on this prefernences page?"?>specified
        encoding of a document<?oxy_comment_end?> when the document is opened. The available options are:<ul>
          <li><uicontrol>REPORT</uicontrol> - displays an error identifying the character that
            cannot be represented in the specified encoding. Unrecognized characters are rendered as
            an empty box. This is the default option.</li>
          <li><uicontrol>IGNORE</uicontrol> - the error is ignored and the character is not included
            in the document displayed in the editor.<note type="attention">If you edit and save the
              document, the characters that cannot be represented in the specified encoding are
              dropped.</note></li>
          <li><uicontrol>REPLACE</uicontrol> - the character is replaced with a standard replacement
            character. For example, if the encoding is UTF-8, the replacement character has the
            Unicode code <codeph>FFFD</codeph>, and if the encoding is ASCII, the replacement
            character code is 63.</li>
        </ul></li>
    </ul>
    <?oxy_comment_start author="Mark" timestamp="20140818T112109-0400" comment="Another exception, like JSON. We need a more formal statement concerning what character encodings are recognized for what file types. "?>
    <note product="author developer editor">The default encoding for RNC files is considered
      UTF-8.<?oxy_comment_end?></note>
  </body>
</topic>
