<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="topic_y12_cgb_n5">
  <title>Embedding oXygen XML WebApp in an CMS page</title>
  <body>
    <p>oXygen XML WebApp can be embedded in the CMS to offer editing functionality for documents
      stored in the CMS.</p>
    <p>In order to embed oXygen XML WebApp, one should load the main page,
        <filepath>app/oxygen.html</filepath> in an <codeph>iframe</codeph>. </p>
    <section id="section_dvp_vgb_n5">
      <title>Security restrictions</title>
      <p>oXygen XML WebApp uses cookies to enforce its licensing. In order not to be block by some
        web browsers, it should be served from the same origin as the CMS host page.</p>
      <title>Passing parameters to the editor</title>
      <p>In order to control the editor one can use URL parameters described in the
          <?oxy_comment_start author="Cristian Talau" timestamp="20151231T125123+0200" comment="We should make this web-link a conref."?><xref
          href="https://www.oxygenxml.com/doc/versions/17.1/ug-editor/#topics/customizing_js.html"
          format="html">options section</xref><?oxy_comment_end?>. In order to pass custom
        parameters one can implement a plugin for oXygen XML WebApp that contains JavaScript code to
        interpret those parameters.</p>
    </section>
    <section id="section_mbf_chb_n5">
      <title>Communicating with the editor</title>
      <p>In order to communicate with the editor, one may use the
          <codeph>window.postMessage</codeph> JavaScript API. The host CMS page will send a message
        to the WebApp page. In order to receive the message one has to create a WebApp plugin and
        implement some JavaScript code that listens for the messages sent by the CMS host page and
        use the WebApp's JavaScript API to implement the required functionality.</p>
    </section>
    <section id="section_pdj_2hb_n5">
      <title>Loading and retrieving the content from the editor</title>
      <p>In order to load some content from the CMS Client-side if no references, server-side as
        usual otherwise.</p>
    </section>
    <section id="section_wnm_xhb_n5">
      <title>Other problems</title>
      <ul id="ul_uxv_yhb_n5">
        <li>We experienced problems if the iframe is hidden while loading using <codeph>display:
            none</codeph>. One can use <codeph>visibility: hidden</codeph> for the same
          purpose.</li>
        <li>Some XML vocabularies, e.g. DITA, support cross-document links. By default, clicking on
          cross-document links will open that document in the oXygen XML WebApp in another browser
          tab. If the editor is embedded you may want to change this behavior using the
            <codeph>sync.api.Editor.EventTypes.LINK_OPENED</codeph> event that is triggered on the
            <xref
            href="https://www.oxygenxml.com/maven/com/oxygenxml/oxygen-webapp/17.1.0.1/jsdoc/sync.api.Editor.html"
              ><codeph>sync.api.Editor</codeph></xref> instance.</li>
      </ul>
    </section>
  </body>
</topic>
