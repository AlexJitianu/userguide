<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic
  PUBLIC "-//OASIS//DTD DITA Topic//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/topic.dtd">
<topic id="preferences-fo-processors">
  <title>FO Processors Preferences</title>
  <prolog>
    <metadata>
      <keywords>
        <indexterm>Configure the Application<indexterm>XSLT/FO/XQuery preferences<indexterm>FO
              Processors</indexterm></indexterm></indexterm>
        <indexterm>OutOfMemory</indexterm>
        <indexterm>Out Of Memory</indexterm>
        <indexterm>OutOfMemoryError</indexterm>
      </keywords>
    </metadata>
  </prolog>
  <body>
    <p>Besides Apache FOP, the built-in formatting objects processor, you can configure other
      external processors and set them in the transformation scenarios for processing XSL-FO
      documents.</p>
    <p><ph keyref="product"/> provides an easy way to add two of the most used commercial FO
      processors: <term>RenderX XEP</term> and <term>Antenna House XSL Formatter</term>. You can
      easily add RenderX XEP as an external FO processor if you have the XEP installed. Also, if you
      have the Antenna House XSL Formatter v4 or v5, <ph keyref="product"/> uses the environmental
      variables set by the XSL Formatter installation to detect and use it for XSL-FO
      transformations. If the environmental variables are not set for the XSL Formatter
      installation, you can browse and choose the executable file just as you would for XEP. You can
      use these two external FO processors for <xref
        href="dita-ot-transformation.dita#dita-ot-transformation">DITA OT transformations
        scenarios</xref> and <xref
        href="xml-transformation-with-xslt.dita#xml-transformation-with-xslt">XML with XSLT
        transformation scenarios</xref>.</p>
    <p>To configure the <uicontrol>FO Processors</uicontrol> options, <ph
        conkeyref="reusable.menus/open-the-preferences-page"/> and go to <menucascade>
        <uicontrol>XML</uicontrol>
        <uicontrol>XSLT/FO/XQuery</uicontrol>
        <uicontrol>FO Processors</uicontrol>
      </menucascade>.</p>
    <fig product="editor author developer">
      <title>The FO Processors Preferences Panel</title>
      <image href="../img/sa_fo_processors_options.png"/>
    </fig>
    <fig product="editorEclipse authorEclipse developerEclipse">
      <title>The FO Processors Preferences Panel</title>
      <image href="../img/ec_fo_processors_options.png"/>
    </fig>
    <section>
      <title>Apache FOP</title>
      <p>The options for FO processors are the following:</p>
      <ul>
        <li><uicontrol>Use built-in Apache FOP</uicontrol> - Instructs <ph keyref="product"/> to use
          its built-in Apache FO processor.</li>
        <li><uicontrol>Use other Apache FOP</uicontrol> - Instructs <ph keyref="product"/> to use
          another Apache FO processor installed on your computer.</li>
        <li><uicontrol>Enable the output of the built-in FOP</uicontrol> - All Apache FOP output is
          displayed in a results pane at the bottom of the <ph keyref="product"/> window including
          warning messages about FO instructions not supported by Apache FOP.</li>
        <li><uicontrol>Memory available to the built-in FOP</uicontrol> - If your Apache FOP
          transformations fail with an Out of Memory error (<uicontrol>OutOfMemoryError</uicontrol>)
          select from this combo box a larger value for the amount of memory reserved for FOP
          transformations.</li>
        <li><uicontrol>Configuration file for the built-in FOP</uicontrol> - You should specify here
          the path to an Apache FOP configuration file, necessary for example to render to PDF a
          document containing Unicode content using a special <i>true type</i> font.</li>
        <li><uicontrol>Generates PDF/A-1b output</uicontrol> - When selected PDF/A-1b output is
            generated.<note>All fonts have to be embedded, even the implicit ones. More information
            about configuring metrics files for the embedded fonts can be found in <xref
              href="../tasks/add-font-to-builtin-FOP.dita">Add a font to the built-in
            FOP</xref>.</note><note>You cannot use the <codeph>&lt;filterList&gt;</codeph> key in
            the configuration file because FOP would generate the following error: <cite>The Filter
              key is prohibited when PDF/A-1 is active</cite>.</note></li>
        <li><uicontrol>Add 'XEP' FO processor (executable file is needed)</uicontrol> - If
            <term>RenderX XEP</term> is already installed on your computer, you can use this button
          to choose the XEP executable script (<filepath>xep.bat</filepath> for Windows,
            <filepath>xep</filepath> for Linux).</li>
        <li><uicontrol>Add 'Antenna House' FO processor (executable file is needed)</uicontrol> - If
            <term>Antenna House XSL Formatter</term> is already installed on your computer, you can
          use this button to choose the Antenna House executable script (AHFCmd.exe ,or XSLCmd.exe
          for Windows, AHFCmd.sh ,or XSLCmd.sh for Linux).</li>
      </ul>
    </section>
    <section>
      <title>External FO processors</title>
      <p>In this section you can manage the external FO processors you want to use in transformation
        scenarios. Press the <uicontrol>New</uicontrol> button to add a new external FO processor.
        The following dialog box is displayed:</p>
      <fig product="editor author developer">
        <title>The External FO Processor Configuration Dialog Box</title>
        <image href="../img/sa_external_fop.png"/>
      </fig>
      <fig product="editorEclipse authorEclipse developerEclipse">
        <title>The External FO Processor Configuration Dialog Box</title>
        <image href="../img/ec_external_fop.png"/>
      </fig>
      <ul>
        <li><uicontrol>Name</uicontrol> - The name displayed in the list of available FOP processors
          on the FOP tab of the transformation scenario dialog box.</li>
        <li><uicontrol>Description</uicontrol> - A textual description of the FO processor displayed
          in the FO processors table and in tooltips of UI components where the processor is
          selected.</li>
        <li><uicontrol>Working directory</uicontrol> - The directory where the intermediate and
          final results of the processing is stored. Here you can use one of the following editor variables:<ul>
            <li><uicontrol>${homeDir}</uicontrol> - The path to the user home directory.</li>
            <li><uicontrol>${cfd}</uicontrol> - The path of the current file directory. If the
              current file is not a local file, the target is the user desktop directory.</li>
            <li><uicontrol>${pd}</uicontrol> - The project directory.</li>
            <li><uicontrol>${oxygenInstallDir}</uicontrol> -The <ph keyref="product"/> installation
              directory.</li>
          </ul></li>
        <li><uicontrol>Command line</uicontrol> - The command line that starts the FO processor,
          specific to each processor. Here you can use one of the following editor variables:<ul>
            <li><uicontrol>${method}</uicontrol> - The FOP transformation method:
                <uicontrol>pdf</uicontrol>, <uicontrol>ps</uicontrol>, or
              <uicontrol>txt</uicontrol>.</li>
            <li><uicontrol>${fo}</uicontrol> - The input FO file.</li>
            <li><uicontrol>${out}</uicontrol> - The output file.</li>
            <li><uicontrol>${pd}</uicontrol> - The project directory.</li>
            <li><uicontrol>${frameworksDir}</uicontrol> - The path of the
                <filepath>frameworks</filepath> subdirectory of the <ph keyref="product"/> install
              directory.</li>
            <li><uicontrol>${oxygenInstallDir}</uicontrol> - The <ph keyref="product"/> installation
              directory.</li>
            <li><uicontrol>${ps}</uicontrol> - The platform-specific path separator. It is used
              between the library files specified in the class path of the command line.</li>
          </ul></li>
        <li><uicontrol>Output Encoding</uicontrol> - The encoding of the FO processor output stream
          displayed in a results panel at the bottom of the <ph keyref="product"/> window.</li>
        <li><uicontrol>Error Encoding</uicontrol> - The encoding of the FO processor error stream
          displayed in a results panel at the bottom of the <ph keyref="product"/> window.</li>
      </ul>
    </section>
  </body>
</topic>
