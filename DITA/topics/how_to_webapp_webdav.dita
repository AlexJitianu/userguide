<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="how_to_webapp_webdav">
  <title>How To Use the WebApp With an WebDAV Server</title>
  <body>
    <p>In order to use the <ph keyref="webapp"/> with an WebDAV server you should start with the
        <xref href="http://www.oxygenxml.com/oxygen_sdk_maven.html" format="html" scope="external"
        >oXygen XML SDK project</xref>. Then you need to follow these steps:</p>
    <ol id="ul_spc_dnd_cr">
      <li>Clone the <xref href="https://github.com/oxygenxml/webapp-webdav-integration/tree/new-api"
          format="html" scope="external">WebDAV plugin found on GitHub </xref> and switch to the
          <codeph>new-api</codeph> branch.</li>
      <li>Build the plugin by running: <codeblock>mvn install</codeblock></li>
      <li>In the SDK project, add a dependency in the <filepath>bundle-plugins/pom.xml</filepath>
        file to the artifact corresponding to the WebDAV plugin:
        <codeblock>&lt;dependency&gt;
    &lt;groupId&gt;com.oxygenxml.samples&lt;/groupId&gt;
    &lt;artifactId&gt;webapp-webdav-integration&lt;/artifactId&gt;
    &lt;version&gt;1.0.0&lt;/version&gt;
    &lt;type&gt;jar&lt;/type&gt;
    &lt;classifier&gt;plugin&lt;/classifier&gt;
&lt;/dependency&gt;</codeblock></li>
      <li>In the SDK project, add the <codeph>LoginServlet</codeph> to the
          <filepath>oxygen-sammple-webapp/src/main/webapp/WEB-INF/web.xml</filepath> file by adding
        the following
        snippet:<codeblock>&lt;servlet&gt;
  &lt;servlet-name&gt;WebDAV login servlet&lt;/servlet-name&gt;
  &lt;servlet-class&gt;com.oxygenxml.examples.webdav.LoginServlet&lt;/servlet-class&gt;
&lt;/servlet&gt;
&lt;servlet-mapping&gt;
  &lt;servlet-name&gt;WebDAV login servlet&lt;/servlet-name&gt;
  &lt;url-pattern&gt;/login&lt;/url-pattern&gt;
&lt;/servlet-mapping&gt;</codeblock></li>
      <li>Copy from the WebDAV plugin project the <codeph>src/main/webapp/app/plugin.js</codeph>
        file in the <filepath>oxygen-sammple-webapp/src/main/webapp/app/</filepath> folder of the
        SDK project.</li>
      <li>You can now open a file stored on a WebDAV server. To open an WebApp session, you need to
        pass the file's URL prefixed with <codeph>webdav-</codeph> as the value of <xref
          href="customizing_js.dita#topic_gl4_1ys_1r">the <codeph>url</codeph> parameter</xref>,
        like <filepath>webdav-https://exampleServer.com/file.xml</filepath></li>
    </ol>
  </body>
</topic>
