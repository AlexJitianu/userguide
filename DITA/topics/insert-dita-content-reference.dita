<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="insert-dita-content-reference">
  <title>Reuse Content Dialog Box</title>
  <prolog>
    <metadata>
      <keywords>
        <indexterm>content reference <indexterm>conref</indexterm></indexterm>
        <indexterm>content key reference <indexterm>conkeyref</indexterm></indexterm>
        <indexterm>Reuse content</indexterm>
      </keywords>
    </metadata>
  </prolog>
  <body>
    <p>The DITA <codeph>conref</codeph> and <codeph>conkeyref</codeph> attributes provide a
      mechanism for reusing content fragments. The <codeph>conref</codeph> attribute stores a
      reference to another element and is processed to replace the referencing element with the
      referenced element. The <codeph>conkeyref</codeph> attribute uses <xref
        keyref="dita_background_keys">keys</xref> to locate the content to reuse rather than direct
      references to the topic that contains the reusable content. In either case, to reference the
      content inside a DITA element, the source element must have an <codeph>id</codeph> attribute
      assigned to it. The element containing the content reference acts as a placeholder for the
      referenced element. The identifier for the referenced element must be either absolute or
      resolvable in the context of the referencing element. For more details, go to <xref
        href="http://docs.oasis-open.org/dita/v1.0/archspec/conref.html" scope="external"
        format="html"/>.</p>
    <p><ph keyref="product"/>
      <xref href="author-displaying-referenced-content.dita">displays the referenced content</xref>
      of a DITA content reference if it can resolve it to a valid resource. If you use URIs instead
      of local paths in your XML documents and your DITA OT transformation needs an XML catalog to
      map the URIs to local paths, you need to <xref href="using-XML-Catalogs.dita">add the catalog
        to <ph keyref="product"/></xref>. If the URIs can be resolved, the referenced content is
      displayed in <uicontrol>Author</uicontrol> mode and in the transformation output.</p>
    <p>In <uicontrol>Author</uicontrol> mode, a <codeph>conref</codeph> or
        <codeph>conkeyref</codeph> can easily be inserted at the caret position by using the
        <uicontrol>Reuse Content</uicontrol> dialog box. It can be opened with any of the following methods:<ul>
        <li>Go to <menucascade>
            <uicontrol>DITA</uicontrol>
            <uicontrol><image href="../img/Conref16.png" id="image_mdc_zvx_sr"/>Reuse
              Content</uicontrol>
          </menucascade>.</li>
        <li>Click the <uicontrol><image href="../img/Conref20.png" id="image_jgl_grx_xr"/>Reuse
            Content</uicontrol> action on the main toolbar.</li>
        <li>In the contextual menu of the editing area, go to <menucascade>
            <uicontrol>Reuse</uicontrol>
            <uicontrol><image href="../img/Conref16.png" id="image_yd4_zvx_sr"/>Reuse
              Content</uicontrol>
          </menucascade>.</li>
      </ul></p>
    <section>
      <title>Reuse Content Dialog Box</title>
      <fig product="editor author" id="fig_tmn_2cc_xs">
        <title>The Reuse Content Dialog Box</title>
        <image href="../img/sa_dita_insert_conref.png" id="image_umn_2cc_xs"/>
      </fig>
      <fig product="authorEclipse editorEclipse" id="fig_vmn_2cc_xs">
        <title>The Reuse Content Dialog Box</title>
        <image href="../img/ec_dita_insert_conref.png" id="image_wmn_2cc_xs"/>
      </fig>
      <p>Your selection at the top of the dialog box for choosing the content source determines
        whether <ph keyref="product"/> will insert a <codeph>conref</codeph> or
          <codeph>conkeyref</codeph>.</p>
      <p>If you select <uicontrol>Location</uicontrol> for the content source, a <term>content
          reference</term> (<codeph>conref</codeph>) will be inserted and the dialog box offers the
        following options:<dl>
          <dlentry>
            <dt><uicontrol>Choose the content source</uicontrol> Section</dt>
            <dd>
              <dl>
                <dlentry>
                  <dt><uicontrol>Location</uicontrol></dt>
                  <dd>Allows you to specify the path of the topic that contains the content you want
                    to reference.</dd>
                </dlentry>
              </dl>
            </dd>
          </dlentry>
          <dlentry>
            <dt><uicontrol>Select an element from the content source</uicontrol> Section</dt>
            <dd>
              <dl>
                <dlentry>
                  <dt><uicontrol>Show elements of type</uicontrol></dt>
                  <dd>You can use this drop-down list to select specific types of elements to be
                    displayed in the subsequent table. This can help you narrow down the list of
                    possible source elements that you can select.</dd>
                </dlentry>
                <dlentry>
                  <dt>Text Filter Field</dt>
                  <dd>You can also use the text filter field to narrow down the list of possible
                    source elements to be displayed in the subsequent table.</dd>
                </dlentry>
                <dlentry>
                  <dt>Element Table</dt>
                  <dd>Present all the element IDs defined in the source topic. Use this table to
                    select the <uicontrol>Element ID</uicontrol> of the element that you want to
                    insert its content. You can select multiple contiguous elements to insert a
                    block of content.</dd>
                </dlentry>
                <dlentry>
                  <dt><uicontrol>Preview</uicontrol> Pane</dt>
                  <dd>Displays the content that will be inserted. If you select multiple elements in
                    the element table, the content from all the selected elements is displayed.</dd>
                </dlentry>
                <dlentry>
                  <dt><uicontrol>Source</uicontrol> Pane</dt>
                  <dd>Displays the source code of the element to be referenced.</dd>
                </dlentry>
              </dl>
            </dd>
          </dlentry>
          <dlentry>
            <dt><uicontrol>Reference details</uicontrol> Section</dt>
            <dd>
              <dl>
                <dlentry>
                  <dt><uicontrol>Reference to (conref)</uicontrol></dt>
                  <dd><ph keyref="product"/> automatically fills this text field with the value of
                    the <codeph>conref</codeph> attribute to be inserted. However, you can edit this
                    value if need be.</dd>
                </dlentry>
                <dlentry>
                  <dt><uicontrol>Expand to (conrefend)</uicontrol></dt>
                  <dd>If you select multiple elements in the element table, <ph keyref="product"/>
                    automatically fills this text field with the <codeph>id</codeph> value of the
                    last element in your selection. This value will be inserted as a
                      <codeph>conrefend</codeph> attribute, defining the end of the
                      <codeph>conref</codeph> range. </dd>
                </dlentry>
              </dl>
            </dd>
          </dlentry>
        </dl></p>
    </section>
    <section id="conkeyref-section"><title>Content Key Reference (<codeph>conkeyref</codeph>)
        Options</title><fig id="fig_ayf_wbc_xs">
        <title>Insert Content Key Reference Options</title>
        <image href="../img/conkeyref_options.png" id="image_qh4_1cc_xs"/>
      </fig>If you select <uicontrol>Key</uicontrol> for the content source, a <term>content key
        reference</term> (<codeph>conkeyref</codeph>) will be inserted and the dialog box offers the
      following options:</section>
    <dl>
      <dlentry>
        <dt><uicontrol>Choose the content source</uicontrol> Section</dt>
        <dd>
          <dl>
            <dlentry>
              <dt><uicontrol>Key</uicontrol></dt>
              <dd>Allows to specify a key for the topic that contains the reusable content. You can
                use the <uicontrol><image href="../img/Conkeyref20.png" id="image_yml_whf_ws"
                  />Choose Key Reference</uicontrol> button to open a dialog box that allows you to
                select one from a list of all the keys that are gathered from the root map.</dd>
            </dlentry>
          </dl>
        </dd>
      </dlentry>
      <dlentry>
        <dt><uicontrol>Select an element from the content source</uicontrol> Section</dt>
        <dd>
          <dl>
            <dlentry>
              <dt><uicontrol>Show elements of type</uicontrol></dt>
              <dd>You can use this drop-down list to select specific types of elements to be
                displayed in the subsequent table. This can help you narrow down the list of
                possible source elements that you can select.</dd>
            </dlentry>
            <dlentry>
              <dt>Text Filter Field</dt>
              <dd>You can also use the text filter field to narrow down the list of possible source
                elements to be displayed in the subsequent table.</dd>
            </dlentry>
            <dlentry>
              <dt>Element Table</dt>
              <dd>Present all the element IDs defined in the source topic. Use this table to select
                the <uicontrol>Element ID</uicontrol> of the element that you want to insert its
                content. You can select multiple contiguous elements to insert a block of
                content.</dd>
            </dlentry>
            <dlentry>
              <dt><uicontrol>Preview</uicontrol> Pane</dt>
              <dd>Displays the content that will be inserted. If you select multiple elements in the
                element table, the content from all the selected elements is displayed.</dd>
            </dlentry>
            <dlentry>
              <dt><uicontrol>Source</uicontrol> Pane</dt>
              <dd>Displays the source code of the element to be referenced.</dd>
            </dlentry>
          </dl>
        </dd>
      </dlentry>
      <dlentry>
        <dt><uicontrol>Reference details</uicontrol> Section</dt>
        <dd>
          <dl>
            <dlentry>
              <dt><uicontrol>Reference to (conkeyref)</uicontrol></dt>
              <dd><ph keyref="product"/> automatically fills this text field with the value of the
                  <codeph>conkeyref</codeph> attribute to be inserted. However, you can edit this
                value if need be.</dd>
            </dlentry>
            <dlentry>
              <dt><uicontrol>Fallback to  (conref)</uicontrol></dt>
              <dd>You can enable this option to define a <codeph>conref</codeph> attribute to be
                used as a fallback to determine the content reference relationship if the specified
                  <codeph>conkeyref</codeph> cannot be resolved.</dd>
            </dlentry>
            <dlentry>
              <dt><uicontrol>Expand to (conrefend)</uicontrol></dt>
              <dd>If you select multiple elements in the element table, <ph keyref="product"/>
                automatically fills this text field with the <codeph>id</codeph> value of the last
                element in your selection. This value will be inserted as a
                  <codeph>conrefend</codeph> attribute, defining the end of the
                  <codeph>conkeyref</codeph> range. </dd>
            </dlentry>
          </dl>
        </dd>
      </dlentry>
    </dl>
  </body>
</topic>
