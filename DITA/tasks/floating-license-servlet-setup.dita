<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task
  PUBLIC "-//OASIS//DTD DITA Task//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/task.dtd">
<task id="floating-license-servlet-setup">
    <title>Setting up a Floating License Server Running as a Java Servlet</title>
    <shortdesc>Setting up the floating license servlet.
    </shortdesc>
  <prolog>
    <metadata>
      <keywords><indexterm>License<indexterm>floating
                    license servlet</indexterm></indexterm></keywords>
    </metadata>
  </prolog>
    <taskbody>
        <prereq>Apache Tomcat 5.5 or higher is necessary. To get it, go to <xref
        href="http://tomcat.apache.org" format="org" scope="external"
        >http://tomcat.apache.org</xref>.</prereq>
        <steps>
            <step>
                <cmd>Download the <uicontrol>Web ARchive</uicontrol> (<b>.war</b>) license servlet
          from one of the download URLs included in the registration email message. </cmd>
            </step>
            <step>
                <cmd>Go to the Tomcat Web Application Manager page. In the <uicontrol>WAR file to
            deploy</uicontrol> section choose the WAR file and click the
            <uicontrol>Deploy</uicontrol> button. The <term>oXygen License Servlet</term> should be
          up and running, but there is no licensing information set.</cmd>
            </step>
            <step>
                <cmd>To set the license key, log on the deployment machine, and go to the Tomcat
                    installation folder (usually <filepath>/usr/local/tomcat</filepath>). Then go to
                    the <filepath>webapps/oXygenLicenseServlet/WEB-INF/license/</filepath> folder
                    and create a new file called <filepath>license.txt</filepath>. Copy the license
                    text that was sent to you via e-mail into this file and save it.</cmd>
            </step>
            <step>
                <cmd>It is recommended to password protect your pages using a Tomcat Realm. Please
                    refer to the Tomcat Documentation for detailed info, like the <xref
                        href="http://tomcat.apache.org/tomcat-7.0-doc/config/realm.html"
                        format="html" scope="external">Realm Configuration HOW-TO - Memory Based
                        Realm section</xref>. </cmd>
            </step>
            <step>
                <cmd>Once you have defined a realm resource, you have to edit
                        <filepath>webapps/oXygenLicenseServlet/WEB-INF/web.xml</filepath> file to
                    configure user access rights on the license server. Note that Tomcat's standard
                    security roles are used, i.e.: <b>standard</b> for licensing and <b>admin</b> or
                        <b>manager</b> for the license usage report page.</cmd>
            </step>
            <step>
                <cmd>By default, the license server is logging its activity in
                        <filepath>/usr/local/tomcat/logs/oxygenLicenseServlet.log</filepath> file.
                    To change the log file location, edit the
                        <codeph>log4j.appender.R2.File</codeph> property from the
                        <filepath>/usr/local/tomcat/webapps/oXygenLicenseServlet/WEB-INF/lib/log4j.properties</filepath>
                    configuration file.</cmd>
            </step>
            <step>
                <cmd>Restart <term>oXygen License Servlet</term> from the Tomcat Web Application
                    Manager page.</cmd>
            </step>
        </steps>
        <postreq>
            <p>Contact the <ph
                    keyref="product"/> XML
                support staff at <i>support@oxygenxml.com</i> and ask for a new license key if:<ul>
                    <li>you have multiple license keys for the same <ph
                            keyref="product"
                        /> version and you want to have all of them managed by the same server;</li>
                    <li>you have a multiple-user floating license and you want to split it between
                        two or more license servers.</li>
                </ul></p>
        </postreq>
    </taskbody>
</task>
