<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE task
  PUBLIC "-//OASIS//DTD DITA Task//EN" "http://docs.oasis-open.org/dita/v1.1/OS/dtd/task.dtd">
<task id="floating-license-servlet-setup">
    <title>Setting up a Floating License Server Running as a Java Servlet</title>
  <!--Proofed-->
    <shortdesc>Setting up the floating license server as a servlet. </shortdesc>
  <prolog>
    <metadata>
      <keywords><indexterm>License<indexterm>floating
                    license servlet</indexterm></indexterm></keywords>
    </metadata>
  </prolog>
    <taskbody>
    <context>
      <fig id="fig_thh_hlz_x4">
        <image href="../img/diag_FloatingLicenseServer.png" id="image_i3h_hlz_x4"/>
      </fig>
      <p><b>Steps for Installing the Floating License Server as a Servlet</b></p>
    </context>
        <steps>
      <step>
        <cmd>Make sure that Apache Tomcat 5.5 or higher is running on the machine you have selected
          to be the license server. To get it, go to <xref href="http://tomcat.apache.org"
            format="org" scope="external">http://tomcat.apache.org</xref>.</cmd>
      </step>
            <step>
        <cmd>Download the <uicontrol>Web ARchive</uicontrol> (<b>.war</b>) license servlet from the
            <xref href="http://www.oxygenxml.com/license_server.html" format="html" scope="external"
              ><ph keyref="product"/> website</xref>.</cmd>
      </step>
      <step>
        <cmd>Configure Tomcat to use a security Realm element. Please refer to the <xref
            href="http://tomcat.apache.org/tomcat-7.0-doc/config/realm.html" format="html"
            scope="external">Tomcat Documentation</xref> for more information.</cmd>
      </step>
      <step>
        <cmd>Edit the <filepath>tomcat-users.xml</filepath> file from your Tomcat installation and
          configure one user for each of the following roles: <term>standard</term>,
            <term>admin</term>, and <term>manager</term>.</cmd>
      </step>
            <step>
        <cmd>Go to the Tomcat Web Application Manager page and log-in with the user you configured
          with the <term>manager</term> role. In the <uicontrol>WAR file to deploy</uicontrol>
          section, choose the WAR file and click the <uicontrol>Deploy</uicontrol> button. The
            <term>oXygen License Servlet</term> is now up and running, but the license keys are not
          yet registered.</cmd>
      </step>
      <step>
        <cmd>Register the license key. This process involves locking your license key on your
          license server deployment. Once the process is completed you cannot register the license
          with another license server. Follow these steps to register the license:</cmd>
        <substeps id="substeps_sjt_w54_5r">
          <substep>
            <cmd>Access the license servlet by following the link provided by the Tomcat Web
              Application Manager page. If prompted for authentication, use the credentials
              configured for the <term>admin</term> or <term>manager</term> users.</cmd>
            <stepresult>A page is displayed and prompts for a license key.</stepresult>
          </substep>
          <substep>
            <cmd>Paste your license key into the form and press <uicontrol>Submit</uicontrol>. Note
              that you need to have access to an Internet-connected browser.</cmd>
            <stepresult>You will be redirected to an online form hosted on the <ph keyref="product"
              /> website. This form is pre-filled with an activation code that uniquely identifies
              your license server deployment and your license key.</stepresult>
          </substep>
          <substep>
            <cmd>Press <uicontrol>Activate</uicontrol>.</cmd>
            <stepresult>If the activation process is successfully completed, your license server is
              running. Follow the on-screen instructions to configure the <ph keyref="product"/>
              client applications.</stepresult>
          </substep>
        </substeps>
      </step>
            <step>
                <cmd>By default, the license server logs its activity in the
            <filepath>/usr/local/tomcat/logs/oxygenLicenseServlet.log</filepath> file. To change the
          log file location, edit the <codeph>log4j.appender.R2.File</codeph> property from the
            <filepath>/usr/local/tomcat/webapps/oXygenLicenseServlet/WEB-INF/lib/log4j.properties</filepath>
          configuration file.</cmd>
            </step>
        </steps>
    </taskbody>
</task>
