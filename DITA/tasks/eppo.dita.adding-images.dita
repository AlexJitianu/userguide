<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE topic PUBLIC "-//OASIS//DTD DITA Topic//EN" "topic.dtd">
<topic id="eppo.dita.adding-images">
  <title>Adding Images to a DITA Topic</title>
  <body>
    <p>There are several ways to add images to a DITA topic, depending on if you want to create a
      figure (with title and caption) or just insert an image inline, and whether you want to use
      different versions of a graphic in different situations. (For instance you might want to use a
      different image for a different product version or for a different output media.)</p>
    <section id="adding-image-inline">
      <title>Adding an image inline</title>
      <p>To add an image inline:</p>
      <ol id="ol_eb4_q5d_xp">
        <li>Place the caret in the position you want the graphic to be inserted. </li>
        <li>Click the Insert Image Reference button <image href="../img/bt_insert_graphic.png"
            id="image_g2m_kvd_xp"/>. The <wintitle>Choose image</wintitle> dialog appears. </li>
        <li>Either type in the URL of the image you want to insert or choose one of the insertion
          options provided by the button to the right of the <uicontrol>URL:</uicontrol> field. The
          following insertion options are available, each of which will allow you to select an image
          to enter:<ul id="ul_x3z_kwd_xp">
            <li><uicontrol>Browse for local file:</uicontrol> Opens the <wintitle>Open</wintitle>
              dialog to select a local file.</li>
            <li><uicontrol>Browse for remote file:</uicontrol> Opens the <wintitle>Open
                URL</wintitle> dialog to select a remote file.</li>
            <li><uicontrol>Browse for archived file:</uicontrol> Opens the <wintitle>Archive
                Browser</wintitle> to select a file from an archive.</li>
            <li><uicontrol>Browse Data Source Explorer:</uicontrol> Open the <wintitle>Data Source
                Explorer</wintitle> to select a file from a connected data source.</li>
            <li><uicontrol>Search for file:</uicontrol> Opens the <wintitle>Find Resource</wintitle>
              dialog to search for a file.</li>
          </ul></li>
      </ol>
    </section>
    <section id="adding-image-in-figure">
      <title>Adding an image in a figure</title>
      <p>To add an image in a figure:</p>
      <ol id="ol_nhs_qf2_xp">
        <li>Add a <codeph>fig</codeph> element to your document at the appropriate place.</li>
        <li>Add a <codeph>title</codeph> and/or <codeph>desc</codeph> element to the
            <codeph>fig</codeph> element, according to your needs. </li>
        <li><xref href="#eppo.dita.adding-images/adding-image-inline" format="dita">Add a
              <codeph>image</codeph> element</xref> to the <codeph>fig</codeph> element.</li>
      </ol>
      <note>The <codeph>fig</codeph> element has a number of other child elements that may be
        appropriate to your content. See the DITA documentation for complete information on the
          <codeph>fig</codeph> element.</note>
      <note>The order in which the <codeph>image</codeph>, <codeph>title</codeph>, and
          <codeph>desc</codeph> content are presented in output is determined by the output
        transform. If you want to change how they are output, you may have to modify the output
        transform, rather than your source content.</note>
    </section>
    <section id="adding-image-using-key">
      <title>Adding an image using a key reference</title>
      <p>If you want to use a different version of the image in different situation, such as
        different screenshots for different platforms or different formats for different output
        media. To enable this, refer to the image using a key reference:</p>
      <ol id="ol_lkz_vk2_xp">
        <li>Create a DITA map to hold your image keys. You can create one map for each use or create
          a single map and profile the key definitions for different uses. For instance, you might
          create one map of images to be used in PDF and one for images to be used in Web output. Or
          you might use the platform profiling attribute to manage different versions of a
          screenshots for the Macintosh and Windows version of your product.</li>
        <li>For each image, create a <codeph>topicref</codeph> element with the following
          structure:<codeblock>&lt;topicref keys="image.test" href="img/test.png" type="image"></codeblock></li>
        <li>If you are using profiling, add the alternative <codeph>topicref</codeph> elements and
          the appropriate profiling
          attributes:<codeblock>&lt;topicref keys="image.test" href="img/win/test.png" type="image" platform="windows">
&lt;topicref keys="image.test" href="img/mac/test.png" type="image" platform="mac"></codeblock></li>
        <li>If you are using separate maps, repeat in each map. For instance, if you are using a
          separate map for images for PDF output, add a topic ref to that map like
          this:<codeblock>&lt;topicref keys="image.test" href="img/test.eps" type="image"></codeblock></li>
        <?oxy_comment_start author="Mark" timestamp="20141029T132538-0400" comment="There does not seem to be a way to do this with the insert key reference button as this require a sub-topic id which a graphic does not have."?>
        <li>To insert an image by key, insert an <codeph>image</codeph> element and use a
            <codeph>keyref</codeph> attribute to point to the
            image.<?oxy_comment_end?><codeblock>&lt;image keyref="image.test"/></codeblock><ph
            keyref="product"/> will display the image in <xref keyref="mode.author">Author
            mode</xref>. Which image is displayed will depend on the <xref keyref="dita.profiling"
            >current profiling set</xref> that is applied and which <xref keyref="dita.root-map"
            >root map</xref> is being used to resolve references.</li>
        <li><?oxy_comment_start author="Mark" timestamp="20141029T134229-0400" comment="Note to self: 
Link this to something appropriate.
"?>Configure
          your build<?oxy_comment_end?> so that the appropriate image map is included for each
          output type and/or the appropriate profiling conditions are applied to each output. </li>
      </ol>
    </section>
    <section id="adding-image-using-conkey">
      <title>Adding an image using a conkey reference</title>
      <p>Another way to refer to an image by key is to use a <codeph>conkeyref</codeph> element.
        This offers the same advantages as using a key reference, but the implementation is
        different. </p>
      <ol id="ol_hln_hgl_xp">
        <li>Create a new topic to hold your image references and <xref
            href="#eppo.dita.adding-images/adding-image-inline" format="dita">add the images to the
            topic</xref>. <ph keyref="product"/> will add <codeph>id</codeph> attributes to your
          images when you insert them using the image button, but you may wish to create human
          readable <codeph>id</codeph> values to make it easier to locate the correct image. To
          change the <codeph>id</codeph> attribute, highlight the graphic and press
            <uicontrol>Alt+Enter</uicontrol> to open the
          <?oxy_comment_start author="Mark" timestamp="20141029T145051-0400" comment="Note to self: link this.
"?>attribute
          editor<?oxy_comment_end?>. These instructions will use the example id
            <codeph>test-image</codeph>. The resulting markup will look something like
          this:<codeblock>&lt;image href="test-image.png" id="test-image"/></codeblock></li>
        <li>Add the images topic to an appropriate DITA map and give it a key. Set its
            <codeph>processing-role</codeph> attribute to <codeph>resource-only</codeph> so that it
          will not be displayed in the output. For
          example:<codeblock>&lt;topicref keys="the-images" href="topics/the-images.dita" processing-role="resource-only"/></codeblock></li>
        <li>If you want to apply profiling, you can do so either in the topic, by pointing the key
          to different image files when different profiles are
            applied:<codeblock>&lt;image href="win-test-image.png" id="test-image" platform="windows"/>
&lt;image href="mac-test-image.png" id="test-image" platform="mac"/></codeblock><p>Or
            in the map, by pointing the key to different image topics files when different profiles
            are
          applied:</p><codeblock>&lt;topicref keys="the-images" href="topics/win-images.dita" platform="windows">
&lt;topicref keys="the-images" href="topics/mac-images.dita" platform="mac"></codeblock>You
          can also change which image is included by including different image topic files in
          different maps and including the appropriate map in the build.</li>
        <li>To insert an image by content key reference, use the <uicontrol>Insert a DITA Content
            Key Reference</uicontrol> button <image href="../img/bt_insert_conkeyref.png"
            id="image_qxl_vll_xp"/> and select the correct image key in the
            <wintitle><?oxy_comment_start author="Mark" timestamp="20141029T151616-0400" comment="Note to self: link this
"?>Insert
            Content Key Reference<?oxy_comment_end?></wintitle> dialog. <ph keyref="product"/> will
          display the image in author view. Which image is displayed will depend on the current
          profiling set that is applied and which root map is being used to resolve references.</li>
        <li><?oxy_comment_start author="Mark" timestamp="20141029T134229-0400" comment="Note to self: 
Link this to something appropriate.
"?>Configure
          your build<?oxy_comment_end?> so that the appropriate image map is included for each
          output type and/or the appropriate profiling conditions are applied to each output. </li>
      </ol>
    </section>
  </body>
</topic>
